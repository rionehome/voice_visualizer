<!DOCTYPE html>
<html>
<head>
    <title>Voice Visualizer</title>
    <link rel="stylesheet" href="style/index.css" type="text/css" />
</head>
<body>
  <h1>Voice Visualizer</h1>
  <div id="chat">
    <div id="msg-whole"></div>

    <div>
      <form id="chatSend" action="">
        <input id="msg-input" autocomplete="off"><button id="msg-btn" type="submit">Send</button>
      </form>
    </div>
  </div>

  <!-- scriptの処理を追加 -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
  <script>
      $(function () {
          var socket = io();
          $('form').submit(function(){
              socket.emit('message', $('#msg-input').val());
              $('#msg-input').val('');
              return false;
          });
          socket.on('other-message', function(msg){
              $('#msg-whole').append("<div style='text-align: left'><div class='other-msg'><span>" + msg + "</span></div></div></br>");
              var a = document.documentElement;
              var y = a.scrollHeight - a.clientHeight;
              window.scroll(0, y);
          });
          socket.on('message', function(msg){
              $('#msg-whole').append("<div style='text-align: right'><div class='my-msg'><span>" + msg + "</span></div></div></br>");
              var a = document.documentElement;
              var y = a.scrollHeight - a.clientHeight;
              window.scroll(0, y);
          });
      });
  </script>
</body>
</html>